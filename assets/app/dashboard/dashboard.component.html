<div fxLayout='row'>

	<!-- New Albums -->
	<div fxFlex="40%" fxFlexOffset="10%">
		<h3 class="sad-header">New Albums</h3>

		<div *ngIf="loadingAlbums">
			<md-progress-spinner mode="indeterminate"></md-progress-spinner>
		</div>

		<md-list *ngIf="albums.length > 0">
			<md-list-item class="item-line-image" *ngFor="let album of albums">
				<span md-line class="item-body" (click)="loadTracks(album)">
					<img src="{{album.imagePath}}"/>
					<em class="item-title text-primary">
						{{album.name}}
					</em><br />
					<div class="item-subtitle">
						<div class="text-secondary">
							{{album.artist.name}} &ndash; {{album.year}}
						</div>
					</div>
				</span>

				<!-- Menu -->
				<div class="item-menu" *ngIf="userService.isLoggedIn()">
					<md-menu #appMenu="mdMenu">
						<button md-menu-item (click)="playerService.playAlbum(album)">
							<md-icon>play_arrow</md-icon>
							<span>play album</span>
						</button>
						<button md-menu-item (click)="playerService.enqueueAlbum(album)">
							<md-icon>queue_music</md-icon>
							<span>add to queue</span>
						</button>
						<button md-menu-item (click)="trackService.downloadAlbum(album)">
							<md-icon>file_download</md-icon>
							<span>download all tracks</span>
						</button>
					</md-menu>

					<button md-icon-button [mdMenuTriggerFor]="appMenu">
						<md-icon>more_vert</md-icon>
					</button>
				</div>

				<div class="item-menu" *ngIf="!userService.isLoggedIn()">
					<md-menu #appMenu="mdMenu">
						<button md-menu-item (click)="playerService.playAlbum(album)">
							<md-icon>play_arrow</md-icon>
							<span>play album</span>
						</button>
						<button md-menu-item (click)="playerService.enqueueAlbum(album)">
							<md-icon>queue_music</md-icon>
							<span>add to queue</span>
						</button>
					</md-menu>

					<button md-icon-button [mdMenuTriggerFor]="appMenu">
						<md-icon>more_vert</md-icon>
					</button>
				</div>

			</md-list-item>
		</md-list>

		<!-- List -->
		<md-list *ngIf="!loadingAlbums">
			<md-list-item class="item-line-image" *ngFor="let album of albums">
				<span md-line class="item-body" (click)="playerService.playAlbum(album)">
					<img src="{{album.imagePath}}"/>
					<em class="item-title text-primary">
						{{album.name}}
					</em><br />
					<div class="item-subtitle">
						<div class="text-secondary">
							{{album.artist.name}} &ndash; {{album.year}}
						</div>
					</div>
				</span>


				<div class="item-menu" *ngIf="userService.isLoggedIn()">
					<md-menu #appMenu="mdMenu">
						<button md-menu-item (click)="playerService.playAlbum(album)">
							<md-icon>play_arrow</md-icon>
							<span>play album</span>
						</button>
						<button md-menu-item (click)="playerService.enqueueAlbum(album)">
							<md-icon>queue_music</md-icon>
							<span>add to queue</span>
						</button>
						<button md-menu-item (click)="trackService.downloadAlbum(album)">
							<md-icon>file_download</md-icon>
							<span>download all tracks</span>
						</button>
					</md-menu>
					<button md-icon-button [mdMenuTriggerFor]="appMenu">
						<md-icon>more_vert</md-icon>
					</button>
				</div>

				<div class="item-menu" *ngIf="!userService.isLoggedIn()">
					<md-menu #appMenu="mdMenu">
						<button md-menu-item (click)="playerService.playAlbum(album)">
							<md-icon>play_arrow</md-icon>
							<span>play album</span>
						</button>
						<button md-menu-item (click)="playerService.enqueueAlbum(album)">
							<md-icon>queue_music</md-icon>
							<span>add to queue</span>
						</button>
					</md-menu>
					<button md-icon-button [mdMenuTriggerFor]="appMenu">
						<md-icon>more_vert</md-icon>
					</button>
				</div>
			</md-list-item>
		</md-list>
	</div>
</div>
