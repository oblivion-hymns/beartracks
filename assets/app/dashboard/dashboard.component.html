<div fxLayout='row'>

	<!-- New Albums -->
	<div fxFlex="40%" fxFlexOffset="10%">
		<h3 class="sad-header">New Albums</h3>

		<div *ngIf="loadingAlbums">
			<md-progress-spinner mode="indeterminate"></md-progress-spinner>
		</div>

		<!-- List -->
		<md-list *ngIf="albums.length > 0 && !loadingAlbums">
			<md-list-item class="item-line-image" *ngFor="let album of albums">
				<span md-line class="item-body" (click)="playerService.playAlbum(album)">
					<img src="{{album.imagePath}}"/>
					<em class="item-title text-primary">
						{{album.name}}
					</em><br />
					<div class="item-subtitle">
						<div class="text-secondary">
							{{album.artist.name}} &ndash; {{album.year}}
						</div>
					</div>
				</span>
				<div class="item-menu">
					<md-menu #appMenu="mdMenu">
						<button md-menu-item (click)="playerService.playAlbum(album)">
							<md-icon>play_arrow</md-icon>
							<span>play album</span>
						</button>
						<button md-menu-item (click)="playerService.enqueueAlbum(album)">
							<md-icon>queue_music</md-icon>
							<span>add to queue</span>
						</button>
					</md-menu>
					<button md-icon-button [mdMenuTriggerFor]="appMenu">
						<md-icon>more_vert</md-icon>
					</button>
				</div>
			</md-list-item>
		</md-list>
	</div>

	<!-- Recently Played Tracks -->
	<div fxFlex="40%">
		<h3 style="color: rgba(255, 255, 255, 0.54); text-transform: lowercase;">
			Recently Played
		</h3>

		<div *ngIf="loadingRecent">
			<md-progress-spinner mode="indeterminate"></md-progress-spinner>
		</div>

		<!-- List -->
		<md-list *ngIf="!loadingRecent && recentTracks.length > 0">
			<md-list-item class="item-line-image" *ngFor="let track of recentTracks">
				<span md-line class="item-body" (click)="playerService.player.playOne(track)">
					<img src="{{track.album.imagePath}}"/>
					<em class="item-title text-primary">
						{{track.name}}
						<span class="text-hint" style="margin-right: 5px; font-style: normal;">
							 &ndash; {{this.translateDate(track.updatedAt)}}
						</span>
					</em><br />
					<div class="item-subtitle">
						<div class="text-secondary">
							{{track.genre}} &ndash; {{track.lengthFormatted}}
						</div>
					</div>
				</span>
				<div class="item-menu">
					<md-menu #appMenu="mdMenu">
						<button md-menu-item (click)="playerService.player.playOne(track)">
							<md-icon>play_arrow</md-icon>
							<span>play track</span>
						</button>
						<button md-menu-item (click)="playerService.player.enqueueOne(track)">
							<md-icon>queue_music</md-icon>
							<span>add to queue</span>
						</button>
					</md-menu>
					<button md-icon-button [mdMenuTriggerFor]="appMenu">
						<md-icon>more_vert</md-icon>
					</button>
				</div>
			</md-list-item>
		</md-list>

		<!-- <md-list *ngIf="!loadingRecent">
			<md-list-item
				class="item-line"
				*ngFor="let track of recentTracks"
				(click)="playerService.player.enqueueOne(track)">
				<div md-line style="padding: 0px;">
					<img src="{{track.album.imagePath}}"/>
					<span class="item-text-single">
						{{track.name}}

						<span style="color: rgba(255, 255, 255, 0.38); float: right;">
							{{track.genre}}
						</span>
					</span>
					<span class="item-text-single item-text-description">
						{{track.album.artist.name}}

						<span style="color: rgba(255, 255, 255, 0.38); float: right;">
							{{track.playCount}} plays
						</span>
					</span>
				</div>
			</md-list-item>
		</md-list> -->
	</div>
</div>
